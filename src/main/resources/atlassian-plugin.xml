<?xml version="1.0" encoding="UTF-8"?>

<atlassian-plugin key="${atlassian.plugin.key}" name="${project.name}" plugins-version="2"> 
  <plugin-info> 
    <description>${project.description}</description>  
    <version>${project.version}</version>  
    <vendor name="${project.organization.name}" url="${project.organization.url}"/>  
    <param name="plugin-icon">images/pluginIcon.png</param>  
    <param name="plugin-logo">images/pluginLogo.png</param>  
    <param name="configure.url">/secure/AdminConfig.jspa</param> 
  </plugin-info>  
  <!-- add our i18n resource -->  
  <resource type="i18n" name="i18n" location="base"/>  

  <!-- add our web resources -->  
  <web-resource key="base-resources" name="base Web Resources"> 
    <dependency>com.atlassian.auiplugin:ajs</dependency>  
    <resource type="download" name="base.css" location="/css/base.css"/>  
    <resource type="download" name="base.js" location="/js/base.js"/>  
    <resource type="download" name="images/" location="/images"/>  
    <context>base</context> 
  </web-resource>  


  <!-- 
    Admin Config 
  -->
  <servlet name="Admin Config Servlet" i18n-name-key="admin-config-servlet.name" key="admin-config-servlet" class="dev.jira.servlet.AdminConfigServlet"> 
    <description key="admin-config-servlet.description">The Admin Config Servlet Plugin</description>  
    <url-pattern>/my/adminconfig</url-pattern> 
  </servlet>

  <web-section name="myadmin_config_section" i18n-name-key="myadmin_config_section.name" key="myadmin_config_section" location="admin_plugins_menu" weight="1000"> 
    <description key="myadmin_config_section.description">The myadmin_config_section Plugin</description>  
    <label key="myadmin_config_section.label"/> 
  </web-section>  

  <web-item key="myadmin_config_link" section="admin_plugins_menu/myadmin_config_section"> 
    <label key="myadmin_config_link.label"/>  
    <link linkId="myadmin_config_link.link" key="myadmin_config_link.description">/plugins/servlet/my/adminconfig</link> 
  </web-item>  

 


  <!-- 
    Workflow 
  -->
<!-- 
  <web-resource key="workflows"> 
    <context>jira.workflow.view</context> 
    <dependency>jira.webresources:jira-global</dependency>  
    <dependency>com.atlassian.plugins.atlassian-plugins-webresource-plugin:web-resource-manager</dependency>  
    <resource location="js/load.js" name="load.js" type="download"/>  
    <transformation extension="js"> 
      <transformer key="jsI18n"/> 
    </transformation>  
    <transformation extension="less"> 
      <transformer key="lessTransformer"/> 
    </transformation>  
    <transformation extension="soy"> 
      <transformer key="soyTransformer"/> 
    </transformation> 
  </web-resource>   
  
  -->

  <!-- 
    <web-panel name="WorkflowActionHandlerWebPanel" i18n-name-key="workflow-action-handler-web-panel.name" key="workflow-action-handler-web-panel" location="atl.jira.view.issue.right.context" weight="-1"> 
    <description key="workflow-action-handler-web-panel.description">The WorkflowActionHandlerWebPanel Plugin</description>  
    <resource name="view" type="velocity" location="templates/samples/test.vm"/> 
    <resource type="soy" name="test" location="templates/samples/test.soy"/>      
    <resource name="require.js" type="download" location="js/sample/sample.js" />  

  </web-panel>   
  -->

  <web-resource key="workflow-action-handler-loader">
        <dependency>com.atlassian.plugins.atlassian-plugins-webresource-plugin:web-resource-manager</dependency>
        <resource location="js/loader.js" name="loader.js" type="download" />
  </web-resource>
  <web-resource key="workflow-action-handler-templates">
        <resource location="js/templates.js" name="templates.js" type="download" />
  </web-resource>  

  <web-resource key="test-view"> 
    <context>jira.workflow.view</context> 

    <dependency>com.atlassian.plugins.atlassian-plugins-webresource-plugin:web-resource-manager</dependency>      
    <dependency>jira.webresources:jira-global</dependency>
    <dependency>jira.webresources:set-focus</dependency>
    <dependency>com.atlassian.auiplugin:ajs</dependency>
    <dependency>com.atlassian.auiplugin:inline-dialog</dependency>

    <dependency>dev.jira.workflowActionHandler:workflow-action-handler-loader</dependency>
    <dependency>dev.jira.workflowActionHandler:workflow-action-handler-templates</dependency>  

    <transformation extension="js"> 
      <transformer key="jsI18n"/> 
    </transformation>  
    <transformation extension="less"> 
      <transformer key="lessTransformer"/> 
    </transformation>  
    <transformation extension="soy"> 
      <transformer key="soyTransformer"/> 
    </transformation> 

    <!--  -->
    <resource name="Application.js" type="download" location="js/application.js"/>
    <resource name="Sample.js" type="download" location="js/sample/sample.js" />  

    
  </web-resource>

  
</atlassian-plugin>
